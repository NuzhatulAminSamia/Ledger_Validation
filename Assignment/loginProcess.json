{
  "processName": "Login",
  "code": "<?php \ninclude 'dbConnection.php'; \nif (session_status() === PHP_SESSION_NONE) { \nsession_start(); } \n$username = $_SESSION['userName']; \n$password = $_SESSION['password']; \n$conn = dbConnection(); \n$query = \"SELECT * FROM loginCredentials WHERE username = '$username' AND password = '$password'\"; \n$result = mysqli_query($conn, $query); \nif ($result) { \nif (mysqli_num_rows($result) === 1) { \n$user = mysqli_fetch_assoc($result); \n$_SESSION['userID'] = $user['userID']; \n$_SESSION['userType'] = $user['userType']; \nif ($_SESSION['userType'] === 'Client') { \n$_SESSION[\"clientAuthenticated\"] = true; \nheader('Location: clientDashboard.php'); } \nelse if ($_SESSION['userType'] === 'Admin') { \n$_SESSION[\"adminAuthenticated\"] = true; \nheader('Location: adminDashboard.php'); } \nelse { \nheader(\"Location: index.html\"); \n} exit(); \n} \nelse { \n$_SESSION['loginError'] = \"Invalid username or password\"; \nheader('Location: index.html'); \nexit(); \n} \n} else { \necho \"Database error: \" . mysqli_error($conn); } \nmysqli_close($conn); \n?>"
}
